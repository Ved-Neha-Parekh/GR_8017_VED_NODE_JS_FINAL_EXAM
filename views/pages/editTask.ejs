<%- include("../partials/header") %>

    <div class="page-wrapper">
        <div class="page-breadcrumb">
            <div class="row">
                <div class="col-12 d-flex no-block align-items-center">
                    <h4 class="page-title">Edit Task</h4>
                    <div class="ms-auto text-end">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="/task/tasks">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Edit Task</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <form class="form-horizontal" action="" method="post">
                            <div class="card-body">
                                <h4 class="card-title mb-4">Edit Task Details</h4>

                                <div class="form-group row">
                                    <label for="title" class="col-sm-3 text-end control-label col-form-label">Task
                                        Title</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="title" name="title"
                                            placeholder="Enter Task Title" value="<%= task.title %>" required>
                                    </div>
                                </div>

                                <!-- <div class="form-group row">
                                    <label for="category" class="col-sm-3 text-end control-label col-form-label">Task
                                        Category</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="category" name="category"
                                            placeholder="Enter Task category" value="<%= task.category.name %>" required>
                                    </div>
                                </div> -->

                                <div class="form-group row">
                                    <label for="description"
                                        class="col-sm-3 text-end control-label col-form-label">Description</label>
                                    <div class="col-sm-9">
                                        <textarea class="form-control" id="description" name="description" rows="3"
                                            placeholder="Task details..."><%= task.description %></textarea>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="dueDate" class="col-sm-3 text-end control-label col-form-label">Due
                                        Date</label>
                                    <div class="col-sm-9">
                                        <% let dateValue='' ; if (task.dueDate) { 
                                            dateValue=new Date(task.dueDate).toISOString().split('T')[0]; } %>
                                            <input type="date" class="form-control" id="dueDate" name="dueDate"
                                                value="<%= dateValue %>">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-3 text-end control-label col-form-label">Priority</label>
                                    <div class="col-sm-9">
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="high" name="priority" value="high" <%=task.priority=='high'
                                                ? 'checked' : '' %>>
                                            <label class="form-check-label mb-0" for="high">High</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="medium" name="priority" value="medium"
                                                <%=task.priority=='medium' ? 'checked' : '' %>>
                                            <label class="form-check-label mb-0" for="medium">Medium</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="low" name="priority" value="low" <%=task.priority=='low'
                                                ? 'checked' : '' %>>
                                            <label class="form-check-label mb-0" for="low">Low</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-sm-3 text-end control-label col-form-label">Status</label>

                                    <div class="col-sm-9">
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="pending" name="status"
                                                value="pending" <%=task.status=='pending' ? 'checked' : '' %>>
                                            <label class="form-check-label mb-0" for="pending">Pending</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="completed" name="status"
                                                value="completed" <%=task.status=='completed' ? 'checked' : '' %>>
                                            <label class="form-check-label mb-0" for="completed">Completed</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="border-top">
                                <div class="card-body">
                                    <button type="submit" class="btn btn-primary">Update Task</button>
                                    <a href="/task/tasks" class="btn btn-secondary">Cancel</a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <%- include("../partials/footer") %>